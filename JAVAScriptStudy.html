<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=2, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <canvas class="canvas" id="draw" width="200" height="200"></canvas>
    <!-- <img src="./Snipaste_2019-10-24_15-36-57.png" alt="" srcset="" /> -->
  </body>
  <style>
    .canvas {
      /* width: 200px;
      height: 200px; */
      /* background-color: #ccc; */
    }
  </style>
  <script>
    let drawing = document.getElementById('draw');
    if (drawing.getContext) {
      let content = drawing.getContext('2d');
      // // 获取图像的数据url
      // let imgURL = drawing.toDataURL('image/png');
      // // 显示图像
      // let image = document.createElement('img');
      // image.src = imgURL;
      // document.body.appendChild(image);

      // content.strokeStyle = 'red';
      // content.fillStyle = '#0000ff';

      // 绘制红色矩形
      // content.fillStyle = '#ff0000';
      // content.fillRect(10, 10, 50, 50);
      // // 绘制半透明矩形
      // content.fillStyle = 'rgba(0,0,255,0.5)';
      // // fillRect() 接收四个参数 矩形的XY坐标矩形的宽高
      // content.fillRect(30, 30, 50, 50);
      // strokeRect()对矩形使用指定的颜色描边 颜色使用strokeStyle指定
      // content.strokeStyle = '#ff0000';
      // content.strokeRect(10, 10, 50, 50);
      // // 绘制半透明的蓝色描边矩形
      // content.strokeStyle = 'regba(0,0,255,0.5)';
      // content.strokeRect(30, 30, 50, 50);
      // clearRect() 用于清除画布上的矩形区域
      // 绘制红色矩形
      // content.fillStyle = '#f00';
      // content.fillRect(10, 10, 50, 50);
      // // 绘制半透明矩形
      // content.fillStyle = 'rgba(0,0,255,0.5)';
      // content.fillRect(30, 30, 50, 50);
      // // 在重叠的地方额清除一个小矩形
      // content.clearRect(40, 40, 10, 10);
      // 绘制一个时钟矩形
      // 开始路径
      // content.beginPath();
      // // 绘制外圆 arc(x,y,radius,startAngle,endAngle,counterclockwise) 以（x,y）为圆心 绘制一条弧线 半径为radius 起始和结束角度(用弧度表示)分别为startAngle和endAngle 最后一个参数表示是否逆时针计算
      // // 绘制外圆
      // content.arc(100, 100, 99, 0, Math.PI, false);
      // // 绘制内圆
      // content.moveTo(190, 100);
      // content.arc(100, 100, 90, 0, Math.PI, false);
      // // 绘制分针 lineTo(x,y) 从上一点绘制直线 到(x,y)为止
      // // content.moveTo(100, 100);
      // // content.lineTo(100, 15);
      // // // 绘制时针
      // // content.moveTo(100, 100);
      // // content.lineTo(35, 100);
      // // 描边路径
      // content.stroke();0

      // 开始路径
      // content.beginPath();
      // // 绘制外圆
      // content.arc(100, 100, 99, 0, 2 * Math.PI, false);
      // // 绘制内圆
      // // 移动原点
      // content.moveTo(194, 100);
      // // isPointInpath(x,y) 用于在路径关闭之前确定画布上的某一点是否位于路径上
      // if (content.isPointInPath(194, 100)) {
      //   console.log('has');
      // }
      // content.arc(100, 100, 94, 0, 2 * Math.PI, false);
      // // 绘制分针
      // content.moveTo(100, 100);
      // content.lineTo(100, 30);
      // // 绘制时针
      // content.moveTo(100, 100);
      // content.lineTo(50, 100);
      // // 描边路径
      // content.stroke();
      /*
      绘制文本 主要有两个方法 fillText() 和 strokeText() 这两个方法都接收四个参数 要绘制的文本字符串 (x,y)坐标 和可选的最大像素宽度 这两个方法都以下面3个属性为基础 
      font 表示文本样式、大小及字体 用css中指定字体的格式来指定 
      textAlign 表示文本的对齐方式 建议使用 'start'、'end'代替 'left'、'right'因为前两者的意思更加稳妥 能同时适合从左到右和从右到左显示（阅读）的语言
      textBaseline:表示文本的基线
      */
      // 在表盘上绘制12
      // content.font = 'bold 14px Arial';
      // content.textAlign = 'center';
      // content.fillText('12', 100, 20);
      // content.fillText('12', 100, 20);

      // content.fillText('9', 20, 100);
      // content.fillText('6', 100, 180);
      // content.fillText('3', 180, 100);
      // console.log(content.measureText('3'));
      // let imgURL = drawing.toDataURL('image/png');
      // let img = document.createElement('img');
      // img.src = imgURL;
      // document.body.appendChild(img);
      /*
        translate(x,y) 将坐标原点移动到(x,y) 执行变换之后坐标(0,0)会变成之前由(x,y)表示的点
        使用translate绘制如上图形
      */
      // // 开始绘图
      // content.beginPath();
      // // 外圆
      // content.arc(100, 100, 99, 0, 2 * Math.PI, false);
      // // 内圆
      // // 移动光标
      // content.moveTo(194, 100);
      // content.arc(100, 100, 94, 0, 2 * Math.PI, false);
      // // 绘制时针 分针 首先变换原点到表盘的中心为原点
      // content.translate(100, 100);
      // /*
      //   调用save()方法后 当前所有的设置都会进入一个栈结构 得以妥善保管 等要回到之前保存的设置 可以调用restore() 方法 在保存设置的栈结构中向前返回一级 恢复之前的状态 连续调用即可一级级返回
      //   注意 save() 方法保存的是对绘图上下文的设置和变换 不会保存绘图上下文的内容
      // */
      // content.save();

      // content.rotate(1);

      // content.moveTo(0, 0);
      // content.lineTo(0, -70);

      // content.restore();
      // content.moveTo(0, 0);
      // content.lineTo(-50, 0);
      // // 描边路径

      // content.font = 'bold 14px Arial';
      // content.textAlign = 'center';
      // content.fillText('12', 0, -80);
      // content.fillText('3', 80, 0);
      // content.fillText('6', 0, 80);
      // content.fillText('9', -80, 0);
      // content.stroke();

      // let imgUrl = drawing.toDataURL('image/png');
      // let img = document.createElement('img');
      // img.src = imgUrl;
      // document.body.appendChild(img);

      /*
        绘制图像如果想把图片绘制到画布上 可以使用drawImage()方法 根据期望的最终结果不同 调用这个方法时 可以使用三种不同的参数组合 最简单的调用方法是传入一个html img元素 以及绘制图像的起点(x,y)坐标 如果希望改变图形大小 可以再多传入两个参数分别表示目标的宽高  还可以选择将图形的某个部分绘制到上下文中 这种调用方式总共需要9个参数 源图像的(x,y)坐标 原图形的宽高 目标图像的(x,y)目标图像的宽高
      */
      // 生成一个图片
      // let img = document.createElement('img');
      // img.src = './Snipaste_2019-10-24_15-36-57.png';
      // // 等待图片加载完成后再进行绘制图片
      // img.onload = () => {
      //   content.drawImage(img, 0, 10, 30, 30, 10, 10, 30, 30);
      //   content.stroke();
      // };
      // 渐变 
      /*
        渐变由canvasGradient实例表示 创建一个新的线性渐变可以调用createLinearGradient()方法 这个方法接收四个参数 起点的(x,y)坐标 终点的(x,y)坐标 调用这个方法后 它会创建一个指定大小的渐变 并返回CanvasGraddient对象的实例 
        创建了渐变对象之后 下一步就是使用addColorStop()方法来指定色标 这个方法接收两个参数 色标的位置和css的颜色值 色标位置是一个0（开始的位置）到1（结束的位置）之间的颜色
      */
      let gradient = content.createLinearGradient(30,30,70,70)
      gradient.addColorStop(0,'white')
      gradient.addColorStop(1,'black')
      /*
        gradient对象表示的是上点(30,30)到(70,70)的渐变 起点色标是白色 终点色标是黑色 然后就可以吧fillStyle或strokeStyle设置为这个对象 从而使用渐变来绘制形状或描边 
      */ 
      // 绘制红色矩形 
      content.fillStyle = '#ff0000'
      content.fillRect(10,10,50,50)
      // 绘制渐变矩形 
      content.fillStyle = gradient 
      content.fillRect(30,30,50,50)
    }
  </script>
</html>
